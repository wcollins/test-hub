---
- name: Run 'show running-config' and visualize on Arista devices
  hosts: "{{ target | default('all') }}"
  gather_facts: false
  
  vars:
    timeout: 30
    
  tasks:
    - name: Run show running-config on Arista devices
      arista.eos.eos_command:
        commands: 
          - show running-config
      register: command_output
      vars:
        ansible_connection: network_cli
        ansible_network_os: arista.eos.eos
        ansible_ssh_common_args: "-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null"
        ansible_host_key_checking: false
        ansible_become: true
        ansible_become_method: enable
        
    - name: Display running configuration
      ansible.builtin.debug:
        var: command_output.stdout_lines
...